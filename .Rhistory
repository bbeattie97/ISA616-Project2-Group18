"FRITO-LAY" = "PEPSICO")
Fifth_Third_Bank_mapping = c("FIFTH-THIRD BANK" = "FIFTH THIRD BANK")
jobs_i = FSB_job[grep('^I', FSB_job$survey_company),]
table(jobs_i$survey_company)
FSB_job$survey_city = toupper(FSB_job$survey_city)
city = FSB_job$survey_city
top20city = as.data.frame(table(city))
citysorted = top20city[order(-top20city$Freq), ]
top20_city_names = citysorted$city[1:20]
# View the vector or list of top 20 company names
print(top20_city_names)
FSB_job$survey_company = toupper(FSB_job$survey_company)
company = FSB_job$survey_company
top20company = as.data.frame(table(company))
companysorted = top20company[order(-top20company$Freq), ]
top20_company_names = companysorted$company[1:20]
# View the vector or list of top 20 company names
print(top20_company_names)
## UPDATING DF WITH NEW MAPPING
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, A_and_F_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, coyote_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Crowe_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, DELOITTE_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, DHL_SC_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, EY_map)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Fifth_Third_Bank_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, JP_Morgan_Chase_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, PepsiCo_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, PWC_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Terillium_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Textron_mapping)
FSB_job$survey_company = toupper(FSB_job$survey_company)
company = FSB_job$survey_company
top20company = as.data.frame(table(company))
companysorted = top20company[order(-top20company$Freq), ]
top20_company_names = companysorted$company[1:20]
# View the vector or list of top 20 company names
print(top20_company_names)
table(jobs_d$survey_company)
##DELOITTE MAPPING
jobs_d = FSB_job[grep('^D', FSB_job$survey_company),]
table(jobs_d$survey_company)
DELOITTE_mapping = c("DELOITTE CONSULTING" = "DELOITTE",
"DELOITTE LLP"= "DELOITTE",
"DELOITTE TAX"= "DELOITTE",
"DELOITTE, CHINA" = "DELOITTE")
## DHL SUPPLY CHAIN MAPPING
DHL_SC_mapping = c("DHL" = "DHL SUPPLY CHAIN")
DHL_SC_mapping = c("DHL SUPPLY CHAIN" = "DHL",
"DHL SUPPLY CHAIN SUPPLY CHAIN" = "DHL")
jobs_d = FSB_job[grep('^D', FSB_job$survey_company),]
table(jobs_d$survey_company)
## UPDATING DF WITH NEW MAPPING
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, A_and_F_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, coyote_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Crowe_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, DELOITTE_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, DHL_SC_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, EY_map)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Fifth_Third_Bank_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, JP_Morgan_Chase_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, PepsiCo_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, PWC_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Terillium_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Textron_mapping)
DHL_SC_mapping = c("DHL SUPPLY CHAIN" = "DHL",
"DHL SUPPLY CHAIN SUPPLY CHAIN" = "DHL")
table(jobs_d$survey_company)
DHL_SC_mapping = c("DHL SUPPLY CHAIN" = "DHL",
"DHL SUPPLY CHAIN SUPPLY CHAIN" = "DHL")
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, DHL_SC_mapping)
jobs_d = FSB_job[grep('^D', FSB_job$survey_company),]
table(jobs_d$survey_company)
Crowe_mapping = c("CROWE  LLP" = "CROWE",
"CROWE  LLP LLP" = "CROWE")
coyote_mapping = c("COYOTE LOGISTICS" = "COYOTE",
"COYOTE LOGISTICS LOGISTICS" = "COYOTE")
## UPDATING DF WITH NEW MAPPING
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, A_and_F_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, coyote_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Crowe_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, DELOITTE_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, DHL_SC_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, EY_map)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Fifth_Third_Bank_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, JP_Morgan_Chase_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, PepsiCo_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, PWC_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Terillium_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Textron_mapping)
FSB_job$survey_company = toupper(FSB_job$survey_company)
company = FSB_job$survey_company
top20company = as.data.frame(table(company))
companysorted = top20company[order(-top20company$Freq), ]
top20_company_names = companysorted$company[1:20]
# View the vector or list of top 20 company names
print(top20_company_names)
## LOADING DATA##
FSB  = readRDS("FSB_BI_Survey_2019_2021.rds")
head(FSB)
# create a new data set that filters out irrelevant observations
FSB_job = FSB |> dplyr::filter(FSB$survey_plans %in%
c("seeking employment", "accepted parttime job",
"accepted fulltime job"))
FSB_job$survey_company = toupper(FSB_job$survey_company)
company = FSB_job$survey_company
top20company = as.data.frame(table(company))
companysorted = top20company[order(-top20company$Freq), ]
top20_company_names = companysorted$company[1:20]
# View the vector or list of top 20 company names
print(top20_company_names)
##EY MAPPING
jobs_e = FSB_job[grep('^E', FSB_job$survey_company),]
table(jobs_e$survey_company)
EY_map = c("ERNST & YOUNG (EY)" = "EY",
"ERNST AND YOUNG" = "EY",
"ERNST & YOUNG" = "EY")
table(jobs_d$survey_company)
jobs_d = FSB_job[grep('^D', FSB_job$survey_company),]
table(jobs_d$survey_company)
##DELOITTE MAPPING
jobs_d = FSB_job[grep('^D', FSB_job$survey_company),]
table(jobs_d$survey_company)
DELOITTE_mapping = c("DELOITTE CONSULTING" = "DELOITTE",
"DELOITTE LLP"= "DELOITTE",
"DELOITTE TAX"= "DELOITTE",
"DELOITTE, CHINA" = "DELOITTE")
## DHL SUPPLY CHAIN MAPPING
DHL_SC_mapping = c("DHL SUPPLY CHAIN" = "DHL")
jobs_p = FSB_job[grep('^P', FSB_job$survey_company),]
table(jobs_p$survey_company)
##PWC MAPPING
jobs_p = FSB_job[grep('^P', FSB_job$survey_company),]
table(jobs_p$survey_company)
PWC_mapping = c( "PWC CORPORATE FINANCE"= "PWC",
"PRICEWATERHOUSE COOPERS" = "PWC",
"PWC CORPORATE FINANCE LLC" = "PWC",
"PRICEWATERHOUSECOOPERS" = "PWC")
## PEPSICO MAPPING
PepsiCo_mapping = c("PEPSICO-FRITO LAY" = "PEPSICO",
"PEPSICO FRITO-LAY" = "PEPSICO",
"FRITO LAY"  = "PEPSICO",
"FRITO-LAY" = "PEPSICO")
## PROTIVITI MAPPING NOT NEEDED
##TEXTRON MAPPING
jobs_t = FSB_job[grep('^T', FSB_job$survey_company),]
table(jobs_t$survey_company)
Textron_mapping = c("TEXTRON AVIATION" = "TEXTRON",
"TEXTRON SYSTEMS: LYCOMING ENGINES"= "TEXTRON",
"TEXTRON SPECIALIZED VEHICLES" = "TEXTRON",
"TEXTRON SYSTEMS" = "TEXTRON"
)
##TERILLIUM MAPPING
Terillium_mapping = c("TERRILIUM" = "TERILLIUM")
##ABERCROMBIE & FITCH MAPPING
jobs_a = FSB_job[grep('^A', FSB_job$survey_company),]
table(jobs_a$survey_company)
A_and_F_mapping = c("ABERCROMBIE & FITCH" = "ABERCROMBIE")
##ARRIVE LOGISTICS MAPPING NOT NEEDED
jobs_j = FSB_job[grep('^J', FSB_job$survey_company),]
table(jobs_j$survey_company)
jobs_j = FSB_job[grep('^J', FSB_job$survey_company),]
table(jobs_j$survey_company)
JP_Morgan_Chase_mapping = c("J.P. MORGAN U.S. PRIVATE BANK" = "JP MORGAN",
"JPMORGAN CHASE" = "JP MORGAN",
"J.P MORGAN" = "JP MORGAN",
"JPMORGAN CHASE & CO." = "JP MORGAN",
"J.P. MORGAN" = "JP MORGAN",
"JP MORGAN AND CHASE" = "JP MORGAN",
"JP MORGAN CHASE" = "JP MORGAN")
jobs_c = FSB_job[grep('^C', FSB_job$survey_company),]
table(jobs_c$survey_company)
## COYOTE LOGISTICS MAPPING
jobs_c = FSB_job[grep('^C', FSB_job$survey_company),]
table(jobs_c$survey_company)
coyote_mapping = c("COYOTE LOGISTICS" = "COYOTE")
## CDW MAPPING NOT NEEDED
##CROWE LLP MAPPING
Crowe_mapping = c("CROWE  LLP" = "CROWE")
## FIFTH THIRD BANK MAPPING
jobs_f = FSB_job[grep('^F', FSB_job$survey_company),]
table(jobs_f$survey_company)
Fifth_Third_Bank_mapping = c("FIFTH-THIRD BANK" = "FIFTH THIRD BANK")
## UPDATING DF WITH NEW MAPPING
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, A_and_F_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, coyote_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Crowe_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, DELOITTE_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, DHL_SC_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, EY_map)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Fifth_Third_Bank_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, JP_Morgan_Chase_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, PepsiCo_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, PWC_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Terillium_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Textron_mapping)
FSB_job$survey_company = toupper(FSB_job$survey_company)
company = FSB_job$survey_company
top20company = as.data.frame(table(company))
companysorted = top20company[order(-top20company$Freq), ]
top20_company_names = companysorted$company[1:20]
# View the vector or list of top 20 company names
print(top20_company_names)
city_c = FSB_job[grep('^C', FSB_job$survey_city),]
table(jobs_c$survey_city)
city_c = FSB_job[grep('^C', FSB_job$survey_city),]
table(jobs_c$survey_city)
FSB_job$survey_city = toupper(FSB_job$survey_city)
city = FSB_job$survey_city
top20city = as.data.frame(table(city))
citysorted = top20city[order(-top20city$Freq), ]
top20_city_names = citysorted$city[1:20]
# View the vector or list of top 20 company names
print(top20_city_names)
city_c = FSB_job[grep('^C', FSB_job$survey_city),]
table(jobs_c$survey_city)
table(city_c$survey_city)
city_c = FSB_job[grep('^C', FSB_job$survey_city),]
table(city_c$survey_city)
Cincinnati_mapping = c("CINCINATTI" = "CINCINNATI",
"CINCINNATI, OH" = "CINCINNATI",
"CINCINNNATI" = "CINCINNATI")
Columbus_mapping = c("COLUBMUS" = "COLUMBUS")
city_n = FSB_job[grep('^N', FSB_job$survey_city),]
table(city_n$survey_city)
city_n = FSB_job[grep('^N', FSB_job$survey_city),]
table(city_n$survey_city)
New_York_mapping = c("NEW YORK CITY" = "NEW YORK",
"NYC" = "NEW YORK")
city_i = FSB_job[grep('^I', FSB_job$survey_city),]
table(city_i$survey_city)
city_i = FSB_job[grep('^I', FSB_job$survey_city),]
table(city_i$survey_city)
Indianapolis_mapping = c("INDIANPOLIS" = "INDIANAPOLIS")
city_d = FSB_job[grep('^D', FSB_job$survey_city),]
table(city_d$survey_city)
city_p = FSB_job[grep('^P', FSB_job$survey_city),]
table(city_p$survey_city)
city_p = FSB_job[grep('^A', FSB_job$survey_city),]
table(city_p$survey_city)
city_p = FSB_job[grep('^B', FSB_job$survey_city),]
table(city_p$survey_city)
city_p = FSB_job[grep('^M', FSB_job$survey_city),]
table(city_p$survey_city)
city_m = FSB_job[grep('^M', FSB_job$survey_city),]
table(city_m$survey_city)
Milwaukee_mapping = c("MILWAUKWEE" = "MILWAUKEE")
city_s = FSB_job[grep('^S', FSB_job$survey_city),]
table(city_s$survey_city)
city_s = FSB_job[grep('^T', FSB_job$survey_city),]
table(city_s$survey_city)
FSB_job$survey_city = str_replace_all(FSB_job$survey_city, Cincinnati_mapping)
FSB_job$survey_city = str_replace_all(FSB_job$survey_city, Columbus_mapping)
FSB_job$survey_city = str_replace_all(FSB_job$survey_city, Indianapolis_mapping)
FSB_job$survey_city = str_replace_all(FSB_job$survey_city, Milwaukee_mapping)
FSB_job$survey_city = str_replace_all(FSB_job$survey_city, New_York_mapping)
FSB_job$survey_city = str_replace_all(FSB_job$survey_city, )
FSB_job$survey_city = str_replace_all(FSB_job$survey_city, Cincinnati_mapping)
FSB_job$survey_city = str_replace_all(FSB_job$survey_city, Columbus_mapping)
FSB_job$survey_city = str_replace_all(FSB_job$survey_city, Indianapolis_mapping)
FSB_job$survey_city = str_replace_all(FSB_job$survey_city, Milwaukee_mapping)
FSB_job$survey_city = str_replace_all(FSB_job$survey_city, New_York_mapping)
FSB_job$survey_city = toupper(FSB_job$survey_city)
city = FSB_job$survey_city
top20city = as.data.frame(table(city))
citysorted = top20city[order(-top20city$Freq), ]
top20_city_names = citysorted$city[1:20]
# View the vector or list of top 20 company names
print(top20_city_names)
FSB_job$survey_city = toupper(FSB_job$survey_city)
city = FSB_job$survey_city
top20city = as.data.frame(table(city))
citysorted = top20city[order(-top20city$Freq), ]
top20_city_names = citysorted$city[1:20]
# View the vector or list of top 20 company names
print(top20_city_names)
top_cites = ["CHICAGO", "CINCINNATI", "COLUMBUS", "CLEVELAND", "NEW YORK", "INDIANAPOLIS", "DENVER", "BOSTON", "PITTSBURGH", "DAYTON", "CHARLOTTE", "DETROIT", "MINNEAPOLIS", "SAN FRANCISCO", "DUBLIN", "MILWAUKEE", "AKRON", "TOLEDO", "ATLANTA", "LOS ANGELES"]
top_cites = c("CHICAGO", "CINCINNATI", "COLUMBUS", "CLEVELAND", "NEW YORK", "INDIANAPOLIS", "DENVER", "BOSTON", "PITTSBURGH", "DAYTON", "CHARLOTTE", "DETROIT", "MINNEAPOLIS", "SAN FRANCISCO", "DUBLIN", "MILWAUKEE", "AKRON", "TOLEDO", "ATLANTA", "LOS ANGELES")
top_cites = c("CHICAGO", "CINCINNATI", "COLUMBUS", "CLEVELAND", "NEW YORK", "INDIANAPOLIS", "DENVER", "BOSTON", "PITTSBURGH", "DAYTON", "CHARLOTTE", "DETROIT", "MINNEAPOLIS", "SAN FRANCISCO", "DUBLIN", "MILWAUKEE", "AKRON", "TOLEDO", "ATLANTA", "LOS ANGELES")
FSB_test_cities_other = ifelse(!(FSB$survey_city %>% in top_cites), "OTHER", FSB_test_cities_other )
top_cites = c("CHICAGO", "CINCINNATI", "COLUMBUS", "CLEVELAND", "NEW YORK", "INDIANAPOLIS", "DENVER", "BOSTON", "PITTSBURGH", "DAYTON", "CHARLOTTE", "DETROIT", "MINNEAPOLIS", "SAN FRANCISCO", "DUBLIN", "MILWAUKEE", "AKRON", "TOLEDO", "ATLANTA", "LOS ANGELES")
FSB_test_cities_other = ifelse(!(FSB$survey_city %in% top_cites), "OTHER", FSB_test_cities_other )
top_cites = c("CHICAGO", "CINCINNATI", "COLUMBUS", "CLEVELAND", "NEW YORK", "INDIANAPOLIS", "DENVER", "BOSTON", "PITTSBURGH", "DAYTON", "CHARLOTTE", "DETROIT", "MINNEAPOLIS", "SAN FRANCISCO", "DUBLIN", "MILWAUKEE", "AKRON", "TOLEDO", "ATLANTA", "LOS ANGELES")
FSB_test_cities_other = ifelse(!(FSB$survey_city %in% top_cites), "OTHER", FSB$survey_city )
table(FSB_test_cities_other)
table(FSB$survey_city)
FSB_test_cities_other = FSB$survey_city %>%
mutate(FSB$survey_city = ifelse(!(FSB$survey_city %in% top_cites), "OTHER", FSB$survey_city ))
top_cites = c("CHICAGO", "CINCINNATI", "COLUMBUS", "CLEVELAND", "NEW YORK", "INDIANAPOLIS", "DENVER", "BOSTON", "PITTSBURGH", "DAYTON", "CHARLOTTE", "DETROIT", "MINNEAPOLIS", "SAN FRANCISCO", "DUBLIN", "MILWAUKEE", "AKRON", "TOLEDO", "ATLANTA", "LOS ANGELES")
FSB_test_cities_other = FSB$survey_city %>%
mutate(FSB = ifelse(!(FSB$survey_city %in% top_cites), "OTHER", FSB$survey_city ))
top_cites = c("CHICAGO", "CINCINNATI", "COLUMBUS", "CLEVELAND", "NEW YORK", "INDIANAPOLIS", "DENVER", "BOSTON", "PITTSBURGH", "DAYTON", "CHARLOTTE", "DETROIT", "MINNEAPOLIS", "SAN FRANCISCO", "DUBLIN", "MILWAUKEE", "AKRON", "TOLEDO", "ATLANTA", "LOS ANGELES")
FSB_test_cities_other = FSB$survey_city %>%
mutate(FSB$survey_city = ifelse(!(FSB$survey_city %in% top_cites), "OTHER", FSB$survey_city ))
top_cites = c("CHICAGO", "CINCINNATI", "COLUMBUS", "CLEVELAND", "NEW YORK", "INDIANAPOLIS", "DENVER", "BOSTON", "PITTSBURGH", "DAYTON", "CHARLOTTE", "DETROIT", "MINNEAPOLIS", "SAN FRANCISCO", "DUBLIN", "MILWAUKEE", "AKRON", "TOLEDO", "ATLANTA", "LOS ANGELES")
FSB_test_cities_other <- FSB$survey_city %>%
mutate(FSB$survey_city <- ifelse(!(FSB$survey_city %in% top_cites), "OTHER", FSB$survey_city ))
table(FSB$survey_city)
## Updating Data set with standardized cities
FSB_job$survey_city = str_replace_all(FSB_job$survey_city, Cincinnati_mapping)
FSB_job$survey_city = str_replace_all(FSB_job$survey_city, Columbus_mapping)
FSB_job$survey_city = str_replace_all(FSB_job$survey_city, Indianapolis_mapping)
FSB_job$survey_city = str_replace_all(FSB_job$survey_city, Milwaukee_mapping)
FSB_job$survey_city = str_replace_all(FSB_job$survey_city, New_York_mapping)
top_cites = c("CHICAGO", "CINCINNATI", "COLUMBUS", "CLEVELAND", "NEW YORK", "INDIANAPOLIS", "DENVER", "BOSTON", "PITTSBURGH", "DAYTON", "CHARLOTTE", "DETROIT", "MINNEAPOLIS", "SAN FRANCISCO", "DUBLIN", "MILWAUKEE", "AKRON", "TOLEDO", "ATLANTA", "LOS ANGELES")
FSB_test_cities_other <- FSB$survey_city %>%
mutate(FSB$survey_city <- ifelse(!(FSB$survey_city %in% top_cites), "OTHER", FSB$survey_city ))
table(FSB$survey_city)
top_cities = c("CHICAGO", "CINCINNATI", "COLUMBUS", "CLEVELAND", "NEW YORK", "INDIANAPOLIS", "DENVER", "BOSTON", "PITTSBURGH", "DAYTON", "CHARLOTTE", "DETROIT", "MINNEAPOLIS", "SAN FRANCISCO", "DUBLIN", "MILWAUKEE", "AKRON", "TOLEDO", "ATLANTA", "LOS ANGELES")
FSB_test_cities_other <-  ifelse(!(FSB$survey_city %in% top_cities), "OTHER", FSB$survey_city ))
top_cities = c("CHICAGO", "CINCINNATI", "COLUMBUS", "CLEVELAND", "NEW YORK", "INDIANAPOLIS", "DENVER", "BOSTON", "PITTSBURGH", "DAYTON", "CHARLOTTE", "DETROIT", "MINNEAPOLIS", "SAN FRANCISCO", "DUBLIN", "MILWAUKEE", "AKRON", "TOLEDO", "ATLANTA", "LOS ANGELES")
FSB_test_cities_other <-  ifelse(!(FSB$survey_city %in% top_cities), "OTHER", FSB$survey_city )
table(FSB_test_cities_other)
toupper(FSB_job$survey_city
toupper(FSB_job$survey_city)
FSB_job$survey_city
top_cities = c("CHICAGO", "CINCINNATI", "COLUMBUS", "CLEVELAND", "NEW YORK", "INDIANAPOLIS", "DENVER", "BOSTON", "PITTSBURGH", "DAYTON", "CHARLOTTE", "DETROIT", "MINNEAPOLIS", "SAN FRANCISCO", "DUBLIN", "MILWAUKEE", "AKRON", "TOLEDO", "ATLANTA", "LOS ANGELES")
FSB_test_cities_other <-  ifelse(!(FSB$survey_city %in% top_cities), "OTHER", FSB$survey_city )
table(FSB_test_cities_other)
top_cities = c("CHICAGO", "CINCINNATI", "COLUMBUS", "CLEVELAND", "NEW YORK", "INDIANAPOLIS", "DENVER", "BOSTON", "PITTSBURGH", "DAYTON", "CHARLOTTE", "DETROIT", "MINNEAPOLIS", "SAN FRANCISCO", "DUBLIN", "MILWAUKEE", "AKRON", "TOLEDO", "ATLANTA", "LOS ANGELES")
FSB_test_cities_other <-  ifelse(!(toupper(FSB$survey_city %in% top_cities), "OTHER", FSB$survey_city ))
top_cities = c("CHICAGO", "CINCINNATI", "COLUMBUS", "CLEVELAND", "NEW YORK", "INDIANAPOLIS", "DENVER", "BOSTON", "PITTSBURGH", "DAYTON", "CHARLOTTE", "DETROIT", "MINNEAPOLIS", "SAN FRANCISCO", "DUBLIN", "MILWAUKEE", "AKRON", "TOLEDO", "ATLANTA", "LOS ANGELES")
FSB_test_cities_other <-  ifelse(!(toupper(FSB$survey_city) %in% top_cities), "OTHER", FSB$survey_city )
table(FSB_test_cities_other)
top_cities = c("CHICAGO", "CINCINNATI", "COLUMBUS", "CLEVELAND", "NEW YORK", "INDIANAPOLIS", "DENVER", "BOSTON", "PITTSBURGH", "DAYTON", "CHARLOTTE", "DETROIT", "MINNEAPOLIS", "SAN FRANCISCO", "DUBLIN", "MILWAUKEE", "AKRON", "TOLEDO", "ATLANTA", "LOS ANGELES")
FSB_test_cities_other <-  ifelse(!(toupper(FSB$survey_city) %in% toupper(top_cities)), "OTHER", FSB$survey_city )
table(FSB_test_cities_other)
top_cities = c("CHICAGO", "CINCINNATI", "COLUMBUS", "CLEVELAND", "NEW YORK", "INDIANAPOLIS", "DENVER", "BOSTON", "PITTSBURGH", "DAYTON", "CHARLOTTE", "DETROIT", "MINNEAPOLIS", "SAN FRANCISCO", "DUBLIN", "MILWAUKEE", "AKRON", "TOLEDO", "ATLANTA", "LOS ANGELES")
FSB_test_cities_other <-  ifelse(!(toupper(FSB$survey_city) %in% toupper(top_cities)), "OTHER", toupper(FSB$survey_city ))
table(FSB_test_cities_other)
top_cities = c("CHICAGO", "CINCINNATI", "COLUMBUS", "CLEVELAND", "NEW YORK", "INDIANAPOLIS", "DENVER", "BOSTON", "PITTSBURGH", "DAYTON", "CHARLOTTE", "DETROIT", "MINNEAPOLIS", "SAN FRANCISCO", "DUBLIN", "MILWAUKEE", "AKRON", "TOLEDO", "ATLANTA", "LOS ANGELES")
FSB_job$survey_city <-  ifelse(!(toupper(FSB$survey_city) %in% toupper(top_cities)), "OTHER", toupper(FSB$survey_city ))
top_cities = c("CHICAGO", "CINCINNATI", "COLUMBUS", "CLEVELAND", "NEW YORK", "INDIANAPOLIS", "DENVER", "BOSTON", "PITTSBURGH", "DAYTON", "CHARLOTTE", "DETROIT", "MINNEAPOLIS", "SAN FRANCISCO", "DUBLIN", "MILWAUKEE", "AKRON", "TOLEDO", "ATLANTA", "LOS ANGELES")
FSB_job$survey_city <-  ifelse(!(toupper(FSB_job$survey_city) %in% toupper(top_cities)), "OTHER", toupper(FSB_job$survey_city ))
table(FSB_job$survey_city)
FSB_job$survey_company = toupper(FSB_job$survey_company)
company = FSB_job$survey_company
top20company = as.data.frame(table(company))
companysorted = top20company[order(-top20company$Freq), ]
top20_company_names = companysorted$company[1:20]
# View the vector or list of top 20 company names
print(top20_company_names)
FSB_job$survey_city = toupper(FSB_job$survey_city)
city = FSB_job$survey_city
top20city = as.data.frame(table(city))
citysorted = top20city[order(-top20city$Freq), ]
top20_city_names = citysorted$city[1:20]
# View the vector or list of top 20 company names
print(top20_city_names)
FSB_job$survey_company = toupper(FSB_job$survey_company)
company = FSB_job$survey_company
top20company = as.data.frame(table(company))
companysorted = top20company[order(-top20company$Freq), ]
top20_company_names = companysorted$company[1:20]
# View the vector or list of top 20 company names
print(top20_company_names)
table(FSB_job$survey_company)
## COYOTE LOGISTICS MAPPING
jobs_c = FSB_job[grep('^C', FSB_job$survey_company),]
table(jobs_c$survey_company)
coyote_mapping = c("COYOTE LOGISTICS" = "COYOTE")
## CDW MAPPING NOT NEEDED
##CROWE LLP MAPPING
Crowe_mapping = c("CROWE  LLP" = "CROWE")
## FIFTH THIRD BANK MAPPING
jobs_f = FSB_job[grep('^F', FSB_job$survey_company),]
table(jobs_f$survey_company)
Fifth_Third_Bank_mapping = c("FIFTH-THIRD BANK" = "FIFTH THIRD BANK")
jobs_j = FSB_job[grep('^J', FSB_job$survey_company),]
table(jobs_j$survey_company)
JP_Morgan_Chase_mapping = c("J.P. MORGAN U.S. PRIVATE BANK" = "JP MORGAN",
"JPMORGAN CHASE" = "JP MORGAN",
"J.P MORGAN" = "JP MORGAN",
"JPMORGAN CHASE & CO." = "JP MORGAN",
"J.P. MORGAN" = "JP MORGAN",
"JP MORGAN AND CHASE" = "JP MORGAN",
"JP MORGAN CHASE" = "JP MORGAN")
##ABERCROMBIE & FITCH MAPPING
jobs_a = FSB_job[grep('^A', FSB_job$survey_company),]
table(jobs_a$survey_company)
A_and_F_mapping = c("ABERCROMBIE & FITCH" = "ABERCROMBIE")
##ARRIVE LOGISTICS MAPPING NOT NEEDED
##TEXTRON MAPPING
jobs_t = FSB_job[grep('^T', FSB_job$survey_company),]
table(jobs_t$survey_company)
Textron_mapping = c("TEXTRON AVIATION" = "TEXTRON",
"TEXTRON SYSTEMS: LYCOMING ENGINES"= "TEXTRON",
"TEXTRON SPECIALIZED VEHICLES" = "TEXTRON",
"TEXTRON SYSTEMS" = "TEXTRON"
)
##TERILLIUM MAPPING
Terillium_mapping = c("TERRILIUM" = "TERILLIUM")
## Updating Data set with standardized companies
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, A_and_F_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, coyote_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Crowe_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, DELOITTE_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, DHL_SC_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, EY_map)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Fifth_Third_Bank_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, JP_Morgan_Chase_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, PepsiCo_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, PWC_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Terillium_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Textron_mapping)
FSB_job$survey_company = toupper(FSB_job$survey_company)
company = FSB_job$survey_company
top20company = as.data.frame(table(company))
companysorted = top20company[order(-top20company$Freq), ]
top20_company_names = companysorted$company[1:20]
# View the vector or list of top 20 company names
print(top20_company_names)
## Updating Data set with standardized companies
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, A_and_F_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, coyote_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Crowe_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, DELOITTE_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, DHL_SC_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, EY_map)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Fifth_Third_Bank_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, JP_Morgan_Chase_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, PepsiCo_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, PWC_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Terillium_mapping)
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Textron_mapping)
FSB_job$survey_company = toupper(FSB_job$survey_company)
company = FSB_job$survey_company
top20company = as.data.frame(table(company))
companysorted = top20company[order(-top20company$Freq), ]
top20_company_names = companysorted$company[1:20]
# View the vector or list of top 20 company names
print(top20_company_names)
jobs_j = FSB_job[grep('^J', FSB_job$survey_company),]
table(jobs_j$survey_company)
JP_Morgan_Chase_mapping = c("J.P. MORGAN U.S. PRIVATE BANK" = "JP MORGAN",
"JPMORGAN CHASE" = "JP MORGAN",
"J.P MORGAN" = "JP MORGAN",
"JPMORGAN CHASE & CO." = "JP MORGAN",
"J.P. MORGAN" = "JP MORGAN",
"JP MORGAN AND CHASE" = "JP MORGAN",
"JP MORGAN CHASE" = "JP MORGAN")
jobs_j = FSB_job[grep('^J', FSB_job$survey_company),]
table(jobs_j$survey_company)
JP_Morgan_Chase_mapping = c("J.P. MORGAN U.S. PRIVATE BANK" = "JP MORGAN",
"JPMORGAN CHASE" = "JP MORGAN",
"J.P MORGAN" = "JP MORGAN",
"JPMORGAN CHASE & CO." = "JP MORGAN",
"J.P. MORGAN" = "JP MORGAN",
"JP MORGAN AND CHASE" = "JP MORGAN",
"JP MORGAN CHASE" = "JP MORGAN")
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, JP_Morgan_Chase_mapping)
jobs_j = FSB_job[grep('^J', FSB_job$survey_company),]
table(jobs_j$survey_company)
jobs_j = FSB_job[grep('^J', FSB_job$survey_company),]
table(jobs_j$survey_company)
JP_Morgan_Chase_mapping = c("J.P. MORGAN U.S. PRIVATE BANK" = "JP MORGAN",
"JPMORGAN CHASE" = "JP MORGAN",
"J.P MORGAN" = "JP MORGAN",
"JP MORGAN & CO." = "JP MORGAN",
"J.P. MORGAN" = "JP MORGAN",
"JP MORGAN AND CHASE" = "JP MORGAN",
"JP MORGAN CHASE" = "JP MORGAN")
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, JP_Morgan_Chase_mapping)
jobs_j = FSB_job[grep('^J', FSB_job$survey_company),]
table(jobs_j$survey_company)
## COYOTE LOGISTICS MAPPING
jobs_c = FSB_job[grep('^C', FSB_job$survey_company),]
table(jobs_c$survey_company)
coyote_mapping = c("COYOTE LOGISTICS" = "COYOTE")
## CDW MAPPING NOT NEEDED
##CROWE LLP MAPPING
Crowe_mapping = c("CROWE LLP" = "CROWE")
Crowe_mapping = c("CROWE LLP" = "CROWE")
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Crowe_mapping)
jobs_j = FSB_job[grep('^C', FSB_job$survey_company),]
table(jobs_j$survey_company)
## COYOTE LOGISTICS MAPPING
jobs_c = FSB_job[grep('^C', FSB_job$survey_company),]
table(jobs_c$survey_company)
coyote_mapping = c("COYOTE LOGISTICS" = "COYOTE")
## CDW MAPPING NOT NEEDED
##CROWE LLP MAPPING
Crowe_mapping = c("CROWE LLP" = "CROWE")
FSB_job$survey_company = str_replace_all(FSB_job$survey_company, Crowe_mapping)
jobs_j = FSB_job[grep('^C', FSB_job$survey_company),]
table(jobs_j$survey_company)
##ABERCROMBIE & FITCH MAPPING
jobs_a = FSB_job[grep('^A', FSB_job$survey_company),]
table(jobs_a$survey_company)
A_and_F_mapping = c("ABERCROMBIE & FITCH" = "ABERCROMBIE")
##ARRIVE LOGISTICS MAPPING NOT NEEDED
top_companies = c("DELOITTE", "EY", "TEXTRON", "PWC", "JP MORGAN", "KPMG", "ABERCROMBIE", "PEPSICO", "DHL", "RSM", "COYOTE", "ARRIVE LOGISTICS", "CDW", "FIFTH THIRD BANK", "TERILLIUM", "WEST MONROE PARTNERS", "PROTIVITI", "CROWE", "INSIGHT2PROFIT", "KEYBANK")
FSB_test_companies_other <-  ifelse(!(toupper(FSB_job$survey_company) %in% toupper(top_companies)), "OTHER", toupper(FSB_job$survey_company ))
table(FSB_test_companies_other)
FSB_job$survey_company = toupper(FSB_job$survey_company)
company = FSB_job$survey_company
top20company = as.data.frame(table(company))
companysorted = top20company[order(-top20company$Freq), ]
top20_company_names = companysorted$company[1:20]
# View the vector or list of top 20 company names
print(top20_company_names)
top_companies = c("DELOITTE", "EY", "TEXTRON", "PWC", "JP MORGAN", "KPMG", "ABERCROMBIE", "PEPSICO", "DHL", "RSM", "COYOTE", "ARRIVE LOGISTICS", "CDW", "FIFTH THIRD BANK", "TERILLIUM", "WEST MONROE PARTNERS", "PROTIVITI", "CROWE", "INSIGHT2PROFIT", "KEYBANK")
FSB_job$survey_company <-  ifelse(!(toupper(FSB_job$survey_company) %in% toupper(top_companies)), "OTHER", toupper(FSB_job$survey_company ))
table(FSB_job$survey_company)
FSB_job$survey_company = toupper(FSB_job$survey_company)
company = FSB_job$survey_company
top20company = as.data.frame(table(company))
companysorted = top20company[order(-top20company$Freq), ]
top20_company_names = companysorted$company[1:20]
# View the vector or list of top 20 company names
print(top20_company_names)
print(top20_company_names)
